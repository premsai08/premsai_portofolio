{% extends 'portfolio/base.html' %}
{% load static %}

{% block content %}
<!-- Hero Section -->
<section id="home" class="hero-section">
    <div class="hero-bg">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>
    <div class="container hero-content">
        <div class="profile-card fade-in">
            <div class="img-wrapper">
                {% if profile.profile_image %}
                <img src="{{ profile.profile_image.url }}" alt="{{ profile.name }}">
                {% else %}
                <div class="placeholder-img">{{ profile.name|slice:":1" }}</div>
                {% endif %}
            </div>
        </div>
        <div class="text-content fade-in-up">
            <h3>Hi, I'm <span class="gradient-text">{{ profile.name }}</span></h3>
            <h1>{{ profile.role }}</h1>
            <p>{{ profile.bio|truncatewords:20 }}</p>
            <div class="cta-buttons">
                <a href="#projects" class="btn btn-primary">View Work</a>
                <a href="#contact" class="btn btn-outline">Contact Me</a>
            </div>
        </div>
    </div>
    <div class="scroll-indicator">
        <div class="mouse"></div>
    </div>
</section>

<!-- About Section -->
<section id="about" class="section">
    <div class="container">
        <h2 class="section-title">About <span class="highlight">Me</span></h2>
        <div class="about-grid">
            <div class="about-text fade-in-left">
                <p>{{ profile.bio|linebreaks }}</p>
                <!-- Stats removed for fresher profile -->
            </div>

            <!-- Education & Internship -->
            <div class="timeline-wrapper fade-in-right">
                <h3 class="subtitle">Education & Experience</h3>
                <div class="timeline">
                    <!-- Internship -->
                    {% for exp in experience %}
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <h4>{{ exp.role }}</h4>
                            <h5>{{ exp.company }}</h5>
                            <span class="date">{{ exp.duration }}</span>
                            <p>{{ exp.description }}</p>
                        </div>
                    </div>
                    {% endfor %}

                    <!-- Education -->
                    {% for edu in education %}
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <h4>{{ edu.degree }}</h4>
                            <h5>{{ edu.institution }}</h5>
                            <span class="date">{{ edu.year }} | CGPA: {{ edu.grade }}</span>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Skills Section -->
<section id="skills" class="section bg-alt">
    <div class="container">
        <h2 class="section-title">My <span class="highlight">Skills</span></h2>
        <div class="skills-grid">
            {% for skill in skills %}
            <div class="skill-card {% if skill.is_primary %}primary-skill{% endif %} fade-in-up">
                <div class="skill-icon">
                    <i class="{{ skill.icon_class }}"></i>
                </div>
                <h4>{{ skill.name }}</h4>
                <div class="progress-bar">
                    <div class="progress" style="width: {{ skill.proficiency }}%;"></div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Projects Section -->
<section id="projects" class="section">
    <div class="container">
        <h2 class="section-title">Featured <span class="highlight">Projects</span></h2>
        <div class="projects-grid">
            {% for project in projects %}
            <div class="project-card fade-in-up">
                <div class="project-img">
                    {% if project.image %}
                    <img src="{{ project.image.url }}" alt="{{ project.title }}">
                    {% else %}
                    <div class="project-placeholder"></div>
                    {% endif %}
                    <div class="overlay">
                        <div class="links">
                            {% if project.github_link %}<a href="{{ project.github_link }}" target="_blank"><i
                                    class="fab fa-github"></i> Code</a>{% endif %}
                            {% if project.demo_link %}<a href="{{ project.demo_link }}" target="_blank"><i
                                    class="fas fa-external-link-alt"></i> Demo</a>{% endif %}
                        </div>
                    </div>
                </div>
                <div class="project-info">
                    <h3>{{ project.title }}</h3>
                    <p>{{ project.description }}</p>
                    <div class="tech-stack">
                        {% for tech in project.tech_stack.split %}
                        <span class="badge">{{ tech }}</span>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Contact Section -->
<section id="contact" class="section">
    <div class="container">
        <h2 class="section-title">Get In <span class="highlight">Touch</span></h2>
        <div class="contact-container">
            <div class="contact-info fade-in-left">
                <div class="info-item">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <h4>Email</h4>
                        <p>{{ profile.email }}</p>
                    </div>
                </div>
                <div class="info-item">
                    <i class="fab fa-github"></i>
                    <div>
                        <h4>GitHub</h4>
                        <a href="{{ profile.github_link }}" target="_blank">View Profile</a>
                    </div>
                </div>
                <div class="info-item">
                    <i class="fab fa-linkedin"></i>
                    <div>
                        <h4>LinkedIn</h4>
                        <a href="{{ profile.linkedin_link }}" target="_blank">View Profile</a>
                    </div>
                </div>
            </div>

            <form id="contact-form" class="contact-form fade-in-right">
                {% csrf_token %}
                <div class="form-group">
                    {{ form.name }}
                </div>
                <div class="form-group">
                    {{ form.email }}
                </div>
                <div class="form-group">
                    {{ form.message }}
                </div>
                <button type="submit" class="btn btn-primary btn-block">Send Message <i
                        class="fas fa-paper-plane"></i></button>
                <div id="form-message"></div>
            </form>
        </div>
    </div>
</section>
{% endblock %}